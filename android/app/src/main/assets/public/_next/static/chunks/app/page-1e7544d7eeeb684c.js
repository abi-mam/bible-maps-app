(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4379:function(e,t,n){Promise.resolve().then(n.bind(n,398))},398:function(e,t,n){"use strict";n.d(t,{default:function(){return f}});var l=n(7437),r=n(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:l=24,strokeWidth:s=2,absoluteStrokeWidth:c,className:o="",children:u,iconNode:d,...h}=e;return(0,r.createElement)("svg",{ref:t,...i,width:l,height:l,stroke:n,strokeWidth:c?24*Number(s)/Number(l):s,className:a("lucide",o),...h},[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(u)?u:[u]])}),o=(e,t)=>{let n=(0,r.forwardRef)((n,l)=>{let{className:i,...o}=n;return(0,r.createElement)(c,{ref:l,iconNode:t,className:a("lucide-".concat(s(e)),i),...o})});return n.displayName="".concat(e),n},u=o("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),d=o("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),h=o("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),m=[{id:"1",title:"Map of Exodus",image:"/maps/exodus.png",category:"Old Testament"},{id:"2",title:"Paul’s Journeys",image:"/maps/paul.png",category:"New Testament"},{id:"3",title:"Kingdoms of Israel",image:"/maps/israel.png",category:"Old Testament"}],x=["Old Testament","New Testament"];var f=()=>{let[e,t]=(0,r.useState)("home"),[n,s]=(0,r.useState)(null),[a,i]=(0,r.useState)(0),[c,o]=(0,r.useState)(new Set),[f,g]=(0,r.useState)(""),p=e=>m.filter(t=>!e||t.category===e),[y,w]=(0,r.useState)(1),[N,b]=(0,r.useState)({x:0,y:0}),[j,v]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),[S,M]=(0,r.useState)(!0),E=(0,r.useRef)(null),R=(0,r.useRef)(null),L=(0,r.useRef)(null),T=(0,r.useRef)(1),X=(0,r.useRef)(0),Y=e=>{o(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},A=()=>{w(1),b({x:0,y:0}),T.current=1},D=(e,t,n)=>Math.max(t,Math.min(n,e)),O=()=>{let e=E.current,t=R.current;if(!e||!t||!e.naturalWidth||!e.naturalHeight)return 1;let n=t.clientWidth,l=t.clientHeight;return Math.min(n/e.naturalWidth,l/e.naturalHeight,1)};(0,r.useEffect)(()=>{let e=O();y<e&&(w(e),T.current=e)},[a]);let W=e=>{if(M(!0),1===e.touches.length){let t=e.touches[0];C({x:t.clientX,y:t.clientY}),v(!0)}else if(2===e.touches.length){let t=V(e.touches[0],e.touches[1]);L.current=t,T.current=y}},_=e=>{if(1===e.touches.length&&j&&k){let t=e.touches[0],n=t.clientX-k.x,l=t.clientY-k.y;C({x:t.clientX,y:t.clientY}),b(e=>({x:e.x+n,y:e.y+l}))}else if(2===e.touches.length){var t;let n=V(e.touches[0],e.touches[1]),l=null!==(t=L.current)&&void 0!==t?t:n;if(0===l)return;w(D(T.current*(n/l),.5,5))}e.preventDefault()},P=e=>{if(e.touches.length<2&&(L.current=null),v(!1),C(null),T.current=y,y<=O()){let t=e.changedTouches;t&&t.length}setTimeout(()=>M(!1),2500)},H=(0,r.useRef)(null),V=(e,t)=>Math.hypot(e.clientX-t.clientX,e.clientY-t.clientY),z=(e,t)=>{let n=Date.now(),l=n-X.current;X.current=n;let r=O();if(l<300){if(.05>Math.abs(y-r)){let e=D(2*r,r,4);w(e),T.current=e}else w(r),b({x:0,y:0}),T.current=r}else M(!0),setTimeout(()=>M(!1),2e3)},B=(0,r.useRef)(!1),I=(0,r.useRef)(null),F=()=>{a<p(n).length-1&&(i(e=>e+1),A())},U=()=>{a>0&&(i(e=>e-1),A())};if((0,r.useEffect)(()=>{let n=n=>{"mapViewer"===e&&("ArrowLeft"===n.key&&U(),"ArrowRight"===n.key&&F(),"Escape"===n.key&&t("category"))};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e,a,n]),"home"===e)return(0,l.jsxs)("div",{className:"p-4 space-y-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"\uD83D\uDCD6 Bible Maps"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Categories"}),(0,l.jsx)("div",{className:"space-y-2",children:x.map(e=>(0,l.jsx)("button",{onClick:()=>{s(e),i(0),t("category")},className:"w-full p-3 bg-gray-100 rounded text-left hover:bg-gray-200",children:e},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Favorites ⭐"}),0===c.size?(0,l.jsx)("p",{className:"text-gray-500 text-sm",children:"No favorites yet"}):(0,l.jsx)("ul",{className:"list-disc list-inside",children:Array.from(c).map(e=>{let n=m.find(t=>t.id===e);return n?(0,l.jsx)("li",{className:"cursor-pointer",onClick:()=>{s(n.category),i(m.findIndex(t=>t.id===e)),t("mapViewer")},children:n.title},e):null})})]})]});if("category"===e){let e=p(n).filter(e=>e.title.toLowerCase().includes(f.toLowerCase()));return(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsxs)("button",{className:"flex items-center text-blue-600",onClick:()=>t("home"),children:[(0,l.jsx)(u,{className:"w-5 h-5 mr-1"})," Back"]}),(0,l.jsx)("h1",{className:"text-xl font-bold",children:n}),(0,l.jsx)("input",{value:f,onChange:e=>g(e.target.value),placeholder:"Search maps...",className:"w-full p-2 border rounded"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-3",children:e.map((e,n)=>(0,l.jsxs)("div",{onClick:()=>{i(m.findIndex(t=>t.id===e.id)),t("mapViewer")},className:"relative border rounded p-2 cursor-pointer hover:bg-gray-50",children:[(0,l.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-24 object-cover rounded"}),(0,l.jsx)("p",{className:"mt-1 text-sm font-medium",children:e.title}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),Y(e.id)},className:"absolute top-2 right-2",children:(0,l.jsx)(d,{className:"w-5 h-5 ".concat(c.has(e.id)?"text-yellow-500":"text-gray-400")})})]},e.id))})]})}if("mapViewer"===e){let e=p(n)[a]||null;return e?(0,l.jsxs)("div",{className:"fixed inset-0 bg-white flex flex-col",ref:R,onPointerDown:e=>{H.current={x:e.clientX,y:e.clientY}},onPointerUp:e=>{let t=H.current;if(H.current=null,!t)return;let n=e.clientX-t.x,l=e.clientY-t.y,r=Math.abs(n);y<=O()&&r>60&&r>Math.abs(l)&&(n<0?F():U())},onMouseDown:e=>{B.current=!0,I.current={x:e.clientX,y:e.clientY}},onMouseMove:e=>{if(!B.current||!I.current)return;let t=e.clientX-I.current.x,n=e.clientY-I.current.y;I.current={x:e.clientX,y:e.clientY},b(e=>({x:e.x+t,y:e.y+n}))},onMouseUp:()=>{B.current=!1,I.current=null},children:[(0,l.jsxs)("div",{className:"flex items-center p-2 bg-gray-100 border-b",children:[(0,l.jsx)("button",{onClick:()=>t("category"),className:"p-2 hover:bg-gray-200 rounded",children:(0,l.jsx)(u,{className:"w-5 h-5"})}),(0,l.jsx)("h2",{className:"flex-1 text-center font-semibold",children:e.title}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>Y(e.id),className:"p-2",children:(0,l.jsx)(d,{className:"w-5 h-5 ".concat(c.has(e.id)?"text-yellow-500":"text-gray-400")})}),(0,l.jsx)("button",{onClick:U,className:"p-2",children:(0,l.jsx)(u,{className:"w-5 h-5"})}),(0,l.jsx)("button",{onClick:F,className:"p-2",children:(0,l.jsx)(h,{className:"w-5 h-5"})})]})]}),(0,l.jsx)("div",{className:"flex-1 bg-black flex items-center justify-center overflow-hidden touch-none",onTouchStart:e=>W(e),onTouchMove:e=>_(e),onTouchEnd:e=>P(e),onClick:()=>z(),style:{position:"relative"},children:(0,l.jsx)("img",{ref:E,src:e.image,alt:e.title,draggable:!1,style:{transform:"translate(".concat(N.x,"px, ").concat(N.y,"px) scale(").concat(y,")"),transition:j?"none":"transform 120ms ease-out",maxWidth:"none",maxHeight:"none",width:"auto",height:"auto",objectFit:"contain",touchAction:"none",userSelect:"none"},className:"select-none",onLoad:()=>{let e=O();w(e),T.current=e,b({x:0,y:0})}})}),S&&(0,l.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col gap-2 pointer-events-auto",children:[(0,l.jsx)("button",{className:"bg-white p-2 rounded shadow",onClick:()=>{w(e=>D(1.2*e,.5,5)),T.current=y},children:"+"}),(0,l.jsx)("button",{className:"bg-white p-2 rounded shadow",onClick:()=>{w(e=>D(e/1.2,.5,5)),T.current=y},children:"-"}),(0,l.jsx)("button",{className:"bg-white p-2 rounded shadow",onClick:()=>A(),children:"Reset"})]})]}):null}return null}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4379)}),_N_E=e.O()}]);